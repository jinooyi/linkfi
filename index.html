<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8G12W1KKXP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){ dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-8G12W1KKXP');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LinkFi | Network Solutions</title>

    <link rel="icon" type="image/png" href="pic/favicon.ico" sizes="any">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- EmailJS -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("SsTDFaMqY83-c2am6");
        })();
    </script>
</head>

<body class="bg-white font-[Inter]">

<section id="contact" class="py-24">
    <div class="max-w-xl mx-auto px-6">
        <form id="contact-form" class="space-y-5 bg-gray-50 p-8 rounded-3xl shadow-xl">

            <input type="text" name="from_name" required
                   placeholder="Full Name"
                   class="w-full px-6 py-4 rounded-2xl border">

            <input type="email" name="reply_to" required
                   placeholder="Email Address"
                   class="w-full px-6 py-4 rounded-2xl border">

            <input type="text" name="title" required
                   placeholder="Subject"
                   class="w-full px-6 py-4 rounded-2xl border">

            <textarea name="message" rows="4" required
                      placeholder="Message"
                      class="w-full px-6 py-4 rounded-2xl border"></textarea>

            <button type="submit" id="submit-btn"
                    class="w-full py-5 bg-blue-700 text-white font-black rounded-2xl uppercase tracking-widest">
                Send Request
            </button>

            <!-- ✅ Success / Error Messages -->
            <p id="success-msg"
               class="hidden mt-4 text-green-600 text-sm font-bold text-center">
                ✔ Your request has been sent successfully.
            </p>

            <p id="error-msg"
               class="hidden mt-4 text-red-600 text-sm font-bold text-center">
                ❌ Something went wrong. Please try again.
            </p>

        </form>
    </div>
</section>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
    AOS.init({ duration: 1200, once: true });

    const form = document.getElementById('contact-form');
    const btn = document.getElementById('submit-btn');
    const successMsg = document.getElementById('success-msg');
    const errorMsg = document.getElementById('error-msg');

    form.addEventListener('submit', function (event) {
        event.preventDefault();

        btn.innerText = 'Sending...';
        successMsg.classList.add('hidden');
        errorMsg.classList.add('hidden');

        const serviceID = 'default_service';
        const templateID = 'template_jcbee9c';

        emailjs.sendForm(serviceID, templateID, this)
            .then(() => {

                // ✅ GA4 전환 이벤트 (성공 시에만)
                gtag('event', 'submit_form', {
                    event_category: 'lead',
                    event_label: 'contact_form'
                });

                btn.innerText = 'Send Request';
                successMsg.classList.remove('hidden');
                this.reset();

                // 선택: 5초 후 메시지 숨김
                setTimeout(() => {
                    successMsg.classList.add('hidden');
                }, 5000);

            }, (err) => {

                btn.innerText = 'Send Request';
                errorMsg.classList.remove('hidden');

            });
    });
</script>

</body>
</html>
